<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1-f (May 31, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>12.4 [TECFAMOO] Multiownership and controls</TITLE>
<META NAME="description" CONTENT="12.4 [TECFAMOO] Multiownership and controls">
<META NAME="keywords" CONTENT="tm2">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="tm2.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html2" HREF="http://tecfa.unige.ch//moo/book2/tm2.html"> <IMG  ALIGN=BOTTOM ALT="external" SRC="http://tecfa.unige.ch/ico/navi/tex2html/top.gif"  > </A> <A NAME="tex2html2402" HREF="node134.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="http://tecfa.unige.ch/gif/tex2html//next_motif.gif"></A> <A NAME="tex2html2400" HREF="node128.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="http://tecfa.unige.ch/gif/tex2html//up_motif.gif"></A> <A NAME="tex2html2396" HREF="node132.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="http://tecfa.unige.ch/gif/tex2html//previous_motif.gif"></A> <A NAME="tex2html2404" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="http://tecfa.unige.ch/gif/tex2html//contents_motif.gif"></A> <A NAME="tex2html2405" HREF="node167.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="http://tecfa.unige.ch/gif/tex2html//index_motif.gif"></A><BR>
<B> Next:</B> <A NAME="tex2html2403" HREF="node134.html">[TECFAMOO] The World-Wide Web </A>
<B>Up:</B> <A NAME="tex2html2401" HREF="node128.html">[TECFAMOO] ProgrammingWhat's different </A>
<B> Previous:</B> <A NAME="tex2html2397" HREF="node132.html">12.3 [TECFAMOO] Blocked Verbs</A>
<BR> <P>
<H1><A NAME="SECTION04540000000000000000">12.4 [<B>TECFA</B><TT>MOO</TT>] Multiownership and controls</A></H1>
<P>
<A NAME="secmuliownprog">&#160;</A>
<A NAME=1680>&#160;</A>
<P>
I would like to ask every programmers to change their code so their
verbs DO NOT rely on the existence of the .owner property. Programmers
should use the .owners property (yes just one little more s but that
make all the difference); the .owners property is a list of objects.
<P>
Better than using the .owners property, use the standard security checks:
<SMALL CLASS=SMALL><PRE>&lt;foo&gt;:controls(&lt;bar&gt;) =&gt; true if &lt;foo&gt; controls &lt;bar&gt;
&lt;foo&gt;:controls_property(&lt;bar&gt;, &lt;prop&gt;) =&gt; &lt;foo&gt; controls &lt;bar&gt;.&lt;prop&gt;
&lt;foo&gt;:controls_verb(&lt;bar&gt;, &lt;verb&gt;) =&gt; &lt;foo&gt; controls &lt;bar&gt;:&lt;verb&gt;
&lt;foo&gt;:share_owners_with(&lt;bar&gt; =&gt; true if one or more of &lt;foo&gt;'s 
                                 owner also controls &lt;bar&gt;.

[e.g. if (foo:share_owners_with(bar)) replaces if (foo.owner == bar.owner)]</PRE></SMALL>
<P>
If you need to print a nice list of all the owners of <code>&lt;foo&gt;</code>, just use:
<SMALL CLASS=SMALL><PRE>              $string_utils:nn(&lt;foo&gt;.owners)</PRE></SMALL>
<P>
If you want to get a list of all the verbs you need to change, type:
<SMALL CLASS=SMALL><PRE>    @grep .owner in me.owned_objects</PRE></SMALL>
<P>
Please if you have questions, suggestions, comments, need help to fix
your code, don't hesitate to mail me (Janus).
<P>
P.S. for those who thinks it's rude: do you prefer your verbs to
traceback and immediately know where the bug is, or do you prefer to
have your verbs behave weirdly and give bad/wrong results? :-)
<P>
<BR> <HR>
<P><ADDRESS>
<I>Daniel K. Schneider <BR>
Thu Apr 17 12:43:52 MET DST 1997</I>
</ADDRESS>
</BODY>
</HTML>
